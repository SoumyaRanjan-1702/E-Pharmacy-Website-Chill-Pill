{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\BE_Sem5\\\\Chill-Pill-main\\\\Chill-Pill-main\\\\Client\\\\src\\\\components\\\\homepage\\\\Upload_Rx.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../stylesheet/Counter.css';\nimport { useParams } from 'react-router-dom';\nimport { Grid, Paper } from '@material-ui/core';\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport AccountCircle from '@mui/icons-material/AccountCircle';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport TextField from '@mui/material/TextField';\nimport Alert from '@mui/material/Alert';\nimport AlertTitle from '@mui/material/AlertTitle';\nimport { styled } from '@mui/material/styles';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardMedia from '@mui/material/CardMedia';\nimport CardContent from '@mui/material/CardContent';\nimport CardActions from '@mui/material/CardActions';\nimport Collapse from '@mui/material/Collapse';\nimport Avatar from '@mui/material/Avatar';\nimport { red } from '@mui/material/colors';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport ShareIcon from '@mui/icons-material/Share';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport DoubleArrowIcon from '@mui/icons-material/DoubleArrow';\nimport img from '../images/a1.jpg';\nimport img2 from '../images/a2.jpg';\nimport Dialog from '@material-ui/core/Dialog';\nimport FileCopyIcon from '@mui/icons-material/FileCopy';\nimport DescriptionIcon from '@mui/icons-material/Description';\nimport HomeIcon from '@mui/icons-material/Home';\nimport InsertPhotoIcon from '@mui/icons-material/InsertPhoto';\nimport SendIcon from '@mui/icons-material/Send';\nimport axios from \"axios\"; // Components\n\nimport Slider from './Slider';\nimport './Slider/slider.css';\nimport '../stylesheet/Uploadrx.css';\nimport { blue } from '@material-ui/core/colors';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Input = styled('input')({\n  display: 'none'\n});\nconst theme = createTheme({\n  palette: {\n    secondary: {\n      // This is green.A700 as hex.\n      main: '#264653'\n    }\n  },\n  typography: {\n    h5: {\n      fontWeight: 600 // or 'bold'\n\n    }\n  }\n});\n\nfunction Upload_Rx(_ref) {\n  _s();\n\n  let {\n    Id\n  } = _ref;\n  const fileInput = useRef(null);\n  const [valuess, setValues] = React.useState('');\n  const [fileInputState, setFileInputState] = useState('');\n  const [presimage, setpresimage] = useState(\"https://media.istockphoto.com/vectors/medical-prescription-vector-illustration-rx-concepts-modern-flat-vector-id1136667779?k=20&m=1136667779&s=612x612&w=0&h=fUimtkr9BCbqkymYD6tXiQxh9RCspWLKwChy5JX3gvw=\");\n  const [previewSource, setPreviewSource] = useState('');\n  const [selectedFile, setSelectedFile] = useState();\n  const [successMsg, setSuccessMsg] = useState('');\n  const [errMsg, setErrMsg] = useState('');\n  const [name, setname] = useState(\"Choose an image\");\n  const [message, setmessage] = useState(false);\n  const [message2, setmessage2] = useState(false);\n  const [namerx, setnamerx] = useState(\"\");\n  const [desp, setdesp] = React.useState();\n\n  const uploadrx = () => {\n    if (name !== \"Choose an image\") {\n      setmessage2(false);\n      setmessage(true);\n      setname(\"Choose an image\");\n    } else {\n      setmessage(false);\n      setmessage2(true);\n    }\n\n    setValues('');\n  };\n\n  const handleChanges = event => {\n    setValues(event.target.value);\n  };\n\n  const handleFileInputChange = e => {\n    const file = e.target.files[0];\n    setname(e.target.files[0].name);\n    setnamerx(e.target.files[0].name);\n    previewFile(file);\n    setSelectedFile(file);\n    setFileInputState(e.target.value);\n  };\n\n  const previewFile = file => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onloadend = () => {\n      setPreviewSource(reader.result);\n    };\n  };\n\n  const handleSubmitFile = e => {\n    e.preventDefault();\n    if (!selectedFile) return;\n    const reader = new FileReader();\n    reader.readAsDataURL(selectedFile); // console.log(reader.result)\n    // let dataArray = new FormData();\n    // dataArray.append(\"description\", desp);\n    // dataArray.append(\"Id\",Id);\n\n    reader.onloadend = () => {\n      //dataArray.append(\"\",reader.result);\n      const dataArray = {\n        description: desp,\n        Id: Id,\n        base64EncodedImage: reader.result\n      };\n      uploadImage(dataArray);\n    };\n\n    reader.onerror = () => {\n      console.error('AHHHHHHHH!!');\n      setErrMsg('something went wrong!');\n    };\n  };\n\n  const uploadImage = async dataArray => {\n    //console.log(Array.from(dataArray[0]))\n    //console.log(dataArray.base64EncodedImage)\n    try {\n      setFileInputState('');\n      setPreviewSource('');\n      setdesp('');\n      setnamerx('');\n      await fetch(`http://localhost:8000/user/${Id}`, {\n        method: 'POST',\n        body: JSON.stringify({\n          base64EncodedImage: dataArray.base64EncodedImage,\n          Id: dataArray.Id,\n          description: dataArray.description\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }); // await axios\n      //       .post(`http://localhost:8000/user/${Id}`, dataArray, {\n      //         headers: {\n      //           \"Content-Type\": \"multipart/form-data\"\n      //         }\n      //       })\n      //       .then((response) => {\n\n      setSuccessMsg('Image uploaded successfully'); //})\n    } catch (err) {\n      console.error(err);\n      setErrMsg('Something went wrong!');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        flexGrow: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"static\",\n        color: \"secondary\",\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            size: \"large\",\n            \"aria-label\": \"account of current user\",\n            \"aria-controls\": \"menu-appbar\",\n            \"aria-haspopup\": \"true\",\n            color: \"inherit\",\n            children: /*#__PURE__*/_jsxDEV(DescriptionIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            component: \"div\",\n            sx: {\n              flexGrow: 1\n            },\n            children: \"Upload RX           \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/home\",\n            className: \"link\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(HomeIcon, {\n              fontSize: \"large\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 48\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/logout\",\n            className: \"link\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"inherit\",\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 48\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 7\n      }, this), message === true ? /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"filled\",\n        severity: \"success\",\n        id: \"acenter\",\n        children: /*#__PURE__*/_jsxDEV(AlertTitle, {\n          children: \"Prescription successfully sent !!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this) : null, message2 === true ? /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"filled\",\n        severity: \"error\",\n        id: \"acenter\",\n        children: /*#__PURE__*/_jsxDEV(AlertTitle, {\n          children: \"Please choose an image to upload...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 21\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"prespic\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          elevation: 6,\n          sx: {\n            maxWidth: 400,\n            mt: 1,\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n              sx: {\n                bgcolor: blue[700]\n              },\n              \"aria-label\": \"recipe\",\n              children: \"Rx\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 11\n            }, this),\n            title: \"Prescription\",\n            subheader: \"Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(CardMedia, {\n            component: \"img\",\n            image: previewSource ? previewSource : presimage,\n            alt: \"Paella dish\",\n            id: \"pres\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmitFile,\n              className: \"form\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"fileInput\",\n                id: \"rx\",\n                children: [/*#__PURE__*/_jsxDEV(InsertPhotoIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 7\n                }, this), \" \", name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"fileInput\",\n                type: \"file\",\n                name: \"image\",\n                encType: \"multipart/form-data\",\n                onChange: handleFileInputChange,\n                value: fileInputState,\n                className: \"form-input\",\n                accept: \"image/*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 3\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 3\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 3\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                id: \"filled-multiline-static\",\n                label: \"Describe\",\n                placeholder: \"Describe anything here..\",\n                multiline: true,\n                rows: 4,\n                variant: \"filled\",\n                value: desp,\n                onChange: e => setdesp(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 3\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 2\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"secondary\",\n                type: \"submit\",\n                id: \"send\",\n                onClick: uploadrx,\n                endIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 103\n                }, this),\n                children: \"Send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 5\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Upload_Rx, \"A81CHk4hOnwCFk2p5qwsUpau9PI=\");\n\n_c = Upload_Rx;\nexport default Upload_Rx;\n\nvar _c;\n\n$RefreshReg$(_c, \"Upload_Rx\");","map":{"version":3,"sources":["C:/Projects/BE_Sem5/Chill-Pill-main/Chill-Pill-main/Client/src/components/homepage/Upload_Rx.jsx"],"names":["React","useState","useEffect","useRef","Link","useParams","Grid","Paper","AppBar","Box","Toolbar","Typography","Button","IconButton","MenuIcon","AccountCircle","createTheme","ThemeProvider","TextField","Alert","AlertTitle","styled","Card","CardHeader","CardMedia","CardContent","CardActions","Collapse","Avatar","red","FavoriteIcon","ShareIcon","ExpandMoreIcon","MoreVertIcon","DoubleArrowIcon","img","img2","Dialog","FileCopyIcon","DescriptionIcon","HomeIcon","InsertPhotoIcon","SendIcon","axios","Slider","blue","Input","display","theme","palette","secondary","main","typography","h5","fontWeight","Upload_Rx","Id","fileInput","valuess","setValues","fileInputState","setFileInputState","presimage","setpresimage","previewSource","setPreviewSource","selectedFile","setSelectedFile","successMsg","setSuccessMsg","errMsg","setErrMsg","name","setname","message","setmessage","message2","setmessage2","namerx","setnamerx","desp","setdesp","uploadrx","handleChanges","event","target","value","handleFileInputChange","e","file","files","previewFile","reader","FileReader","readAsDataURL","onloadend","result","handleSubmitFile","preventDefault","dataArray","description","base64EncodedImage","uploadImage","onerror","console","error","fetch","method","body","JSON","stringify","headers","err","flexGrow","maxWidth","mt","mb","bgcolor"],"mappings":"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","sourcesContent":["import React,{useState,useEffect,useRef} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../stylesheet/Counter.css'\r\n\r\nimport {useParams} from 'react-router-dom';\r\nimport {Grid,Paper} from '@material-ui/core';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Box from '@mui/material/Box';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport Button from '@mui/material/Button';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport AccountCircle from '@mui/icons-material/AccountCircle';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport TextField from '@mui/material/TextField';\r\nimport Alert from '@mui/material/Alert';\r\nimport AlertTitle from '@mui/material/AlertTitle';\r\nimport { styled } from '@mui/material/styles';\r\nimport Card from '@mui/material/Card';\r\nimport CardHeader from '@mui/material/CardHeader';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport Collapse from '@mui/material/Collapse';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport { red } from '@mui/material/colors';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport ShareIcon from '@mui/icons-material/Share';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\nimport DoubleArrowIcon from '@mui/icons-material/DoubleArrow';\r\nimport img from '../images/a1.jpg'\r\nimport img2 from '../images/a2.jpg'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport FileCopyIcon from '@mui/icons-material/FileCopy';\r\nimport DescriptionIcon from '@mui/icons-material/Description';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport InsertPhotoIcon from '@mui/icons-material/InsertPhoto';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport axios from \"axios\";\r\n// Components\r\nimport Slider from './Slider';\r\n\r\nimport './Slider/slider.css';\r\nimport '../stylesheet/Uploadrx.css';\r\nimport { blue } from '@material-ui/core/colors';\r\nconst Input = styled('input')({\r\n  display: 'none',\r\n});\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    secondary: {\r\n      // This is green.A700 as hex.\r\n      main: '#264653',\r\n    },\r\n  },\r\n  typography: {\r\n    h5: {\r\n      fontWeight: 600 // or 'bold'\r\n    }\r\n  }\r\n});\r\nfunction Upload_Rx({Id}) {\r\n  const fileInput = useRef(null)\r\n  const [valuess, setValues] = React.useState('');\r\n  const [fileInputState, setFileInputState] = useState('');\r\n  const [presimage,setpresimage]=useState(\"https://media.istockphoto.com/vectors/medical-prescription-vector-illustration-rx-concepts-modern-flat-vector-id1136667779?k=20&m=1136667779&s=612x612&w=0&h=fUimtkr9BCbqkymYD6tXiQxh9RCspWLKwChy5JX3gvw=\");\r\nconst [previewSource, setPreviewSource] = useState('');\r\nconst [selectedFile, setSelectedFile] = useState();\r\nconst [successMsg, setSuccessMsg] = useState('');\r\nconst [errMsg, setErrMsg] = useState('');\r\nconst [name,setname]= useState(\"Choose an image\")\r\nconst [message,setmessage] =useState(false);\r\nconst [message2,setmessage2] =useState(false);\r\nconst [namerx,setnamerx] =useState(\"\");\r\nconst [desp, setdesp] = React.useState();\r\nconst uploadrx = () =>{\r\n  if(name!==\"Choose an image\"){\r\n    setmessage2(false);\r\n    setmessage(true);\r\n    setname(\"Choose an image\");}\r\n    else{\r\n      setmessage(false);\r\n    setmessage2(true);\r\n    }\r\n    setValues('');\r\n};\r\nconst handleChanges = (event) => {\r\n \r\n  setValues(event.target.value);\r\n};\r\nconst handleFileInputChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setname(e.target.files[0].name);\r\n    setnamerx(e.target.files[0].name);\r\n    previewFile(file);\r\n    setSelectedFile(file);\r\n    setFileInputState(e.target.value);\r\n};\r\n\r\nconst previewFile = (file) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onloadend = () => {\r\n        setPreviewSource(reader.result);\r\n    };\r\n};\r\n\r\nconst handleSubmitFile = (e) => {\r\n\r\n    e.preventDefault();\r\n    if (!selectedFile) return;\r\n    const reader = new FileReader();\r\n   \r\n  \r\n    reader.readAsDataURL(selectedFile);\r\n   // console.log(reader.result)\r\n    // let dataArray = new FormData();\r\n    \r\n   \r\n    // dataArray.append(\"description\", desp);\r\n    // dataArray.append(\"Id\",Id);\r\n    \r\n    \r\n    \r\n    reader.onloadend = () => {\r\n      //dataArray.append(\"\",reader.result);\r\n      const dataArray = {\r\n        description:desp,\r\n        Id:Id,\r\n        base64EncodedImage:reader.result\r\n      };\r\n      uploadImage(dataArray);\r\n    };\r\n    reader.onerror = () => {\r\n        console.error('AHHHHHHHH!!');\r\n        setErrMsg('something went wrong!');\r\n    };\r\n};\r\n\r\nconst uploadImage = async (dataArray) => {\r\n  //console.log(Array.from(dataArray[0]))\r\n  //console.log(dataArray.base64EncodedImage)\r\n    try {\r\n      setFileInputState('');\r\n      setPreviewSource('');\r\n      setdesp('');\r\n      setnamerx('');\r\n        await fetch(`http://localhost:8000/user/${Id}`, {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n              base64EncodedImage:dataArray.base64EncodedImage,\r\n              Id:dataArray.Id,\r\n              description:dataArray.description\r\n          }),\r\n            headers:{'Content-Type': 'application/json'}\r\n        });\r\n  // await axios\r\n  //       .post(`http://localhost:8000/user/${Id}`, dataArray, {\r\n  //         headers: {\r\n  //           \"Content-Type\": \"multipart/form-data\"\r\n  //         }\r\n  //       })\r\n  //       .then((response) => {\r\n       \r\n        setSuccessMsg('Image uploaded successfully');\r\n      //})\r\n    } catch (err) {\r\n        console.error(err);\r\n        setErrMsg('Something went wrong!');\r\n    }\r\n};\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n      <Box sx={{ flexGrow: 1}} >\r\n      <AppBar position=\"static\" color=\"secondary\">\r\n        <Toolbar>\r\n        <IconButton\r\n        size=\"large\"\r\n        aria-label=\"account of current user\"\r\n        aria-controls=\"menu-appbar\"\r\n        aria-haspopup=\"true\"\r\n        color=\"inherit\"\r\n      >\r\n        <DescriptionIcon />\r\n      </IconButton>\r\n          <Typography variant=\"h5\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n          Upload RX           </Typography>\r\n         \r\n          <Link to={\"/home\"} className=\"link\"> <HomeIcon fontSize=\"large\" /> </Link>\r\n          <Link to=\"/logout\" className=\"link\"> <Button variant=\"outlined\" color=\"inherit\">Logout</Button></Link>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {message===true?\r\n        <Alert variant=\"filled\" severity=\"success\" id=\"acenter\">\r\n        <AlertTitle>Prescription successfully sent !!</AlertTitle>\r\n        \r\n      </Alert>\r\n                  :null}    \r\n                  {message2===true?\r\n                    <Alert variant=\"filled\" severity=\"error\" id=\"acenter\">\r\n                    <AlertTitle>Please choose an image to upload...</AlertTitle>\r\n                    \r\n                  </Alert>\r\n                              :null}  \r\n      <div id=\"prespic\">\r\n      <Card elevation={6} sx={{ maxWidth: 400,mt:1,mb:2 }}>\r\n      <CardHeader\r\n        avatar={\r\n          <Avatar sx={{ bgcolor: blue[700] }} aria-label=\"recipe\">\r\n            Rx\r\n          </Avatar>\r\n        }\r\n        \r\n        title=\"Prescription\"\r\n        subheader=\"Preview\"\r\n      />\r\n      <CardMedia\r\n        component=\"img\"\r\n        \r\n        image={previewSource?previewSource:presimage}\r\n        alt=\"Paella dish\"\r\n        id=\"pres\"\r\n      />\r\n      <CardContent>\r\n      <form onSubmit={handleSubmitFile} className=\"form\">\r\n      \r\n      <label htmlFor=\"fileInput\" id=\"rx\">\r\n      <InsertPhotoIcon /> {name}\r\n        </label>\r\n      <input\r\n      id=\"fileInput\"\r\n      type=\"file\"\r\n      name=\"image\"\r\n      encType=\"multipart/form-data\"\r\n      onChange={handleFileInputChange}\r\n      value={fileInputState}\r\n      className=\"form-input\"\r\n      accept=\"image/*\"\r\n  />\r\n  \r\n  <br />\r\n  <br />\r\n  <br />\r\n \r\n  <TextField\r\n  id=\"filled-multiline-static\"\r\n    label=\"Describe\"\r\n    placeholder=\"Describe anything here..\"\r\n    multiline\r\n    rows={4}\r\n    variant=\"filled\"\r\n    value={desp}\r\n    onChange={(e) => setdesp(e.target.value)}\r\n  />\r\n  \r\n <br />\r\n    <Button variant=\"contained\" color=\"secondary\" type=\"submit\" id=\"send\" onClick={uploadrx} endIcon={<SendIcon />}>\r\n    Send \r\n</Button>\r\n        </form>\r\n      </CardContent>\r\n      \r\n    </Card>\r\n    </div>\r\n      </Box>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n\r\nexport default Upload_Rx"]},"metadata":{},"sourceType":"module"}